# The wait times are defined by an interval value - how often the check is done
# and a timeout value, total amount of time to wait before considering the
# operation failed.

# Wait duration for the SYNC operation.
# SyncCheckInterval
# SyncCheckTimeout

# Wait duration for the LOAD operation. This time should be set reasonably high
# because it depends on the size of the DB shards and network latency. Make sure
# the time is high enough to allow for the data transfer between two nodes.
# The LOAD and SYNC operations are important during the recreation of a lost
# node, when the data from a leader is loaded on a replica.
# https://redis.io/topics/replication
# The operator uses the INFO message from Redis to get information about the
# status of SYNC (master_sync_in_progress) and LOAD (loading_eta_seconds)
# https://redis.io/commands/info

# The estimated time it takes for volume mounted configmaps to be updated on the
# pods. After a configmap is changed, the configmap controller will update a
# hash annotation on the pod so kubelet will refresh the mounted volume.
# ACLFilePropagationDuration

# The estimated time it takes for Redis to load the new config map from disk.
# ACLFileLoadDuration

# Wait duration of the '--cluster create' command.
# ClusterCreateInterval
# ClusterCreateTimeout

# Wait duration for a pod to be in ready state - pod is in Ready state and
# the containers passed all conditions.
# PodReadyCheckInterval
# PodReadyCheckTimeout

# Wait duration for the network of a pod to be up.
# PodNetworkCheckInterval
# PodNetworkCheckTimeout

# Wait duration for the deletion of a pod.
# PodDeleteCheckInterval
# PodDeleteCheckTimeout

# Duration of the PING command.
# RedisPingCheckInterval
# RedisPingCheckTimeout

# Wait duration of the 'cluster replicas' command.
# RedisClusterReplicationCheckInterval
# RedisClusterReplicationCheckTimeout

# Wait duration of the MEET command.
# RedisClusterMeetCheckInterval
# RedisClusterMeetCheckTimeout

# Wait duration of the manual failover operation initialized by a
# 'cluster failover takeover' command.
# RedisManualFailoverCheckInterval
# RedisManualFailoverCheckTimeout

# Wait duration of the auto failover operation, initialized by Redis after a node
# failure.
# RedisAutoFailoverCheckInterval
# RedisAutoFailoverCheckTimeout

thresholds:
  SyncMatchThreshold: 85
  AttemptsForgetNode: 3
  MaxToleratedPodsRecoverAtOnce: 20
times:
  SyncCheckInterval:                            3000ms
  SyncCheckTimeout:                             2000ms
  SleepDuringTablesAlignProcess:                12000ms
  ClusterCreateInterval:                        5000ms
  ClusterCreateTimeout:                         90000ms
  ACLFilePropagationDuration:                   5000ms
  ACLFileLoadDuration:                          5000ms
  PodReadyCheckInterval:                        3000ms
  PodReadyCheckTimeout:                         30000ms
  PodNetworkCheckInterval:                      3000ms
  PodNetworkCheckTimeout:                       60000ms
  PodDeleteCheckInterval:                       2000ms
  PodDeleteCheckTimeout:                        30000ms
  RedisPingCheckInterval:                       2000ms
  RedisPingCheckTimeout:                        20000ms
  RedisClusterReplicationCheckInterval:         2000ms
  RedisClusterReplicationCheckTimeout:          30000ms
  RedisClusterMeetCheckInterval:                2000ms
  RedisClusterMeetCheckTimeout:                 10000ms
  RedisManualFailoverCheckInterval:             3000ms
  RedisManualFailoverCheckTimeout:              12000ms
  RedisAutoFailoverCheckInterval:               2000ms
  RedisAutoFailoverCheckTimeout:                20000ms
  RedisNodesAgreeAboutSlotsConfigCheckInterval: 3000ms
  RedisNodesAgreeAboutSlotsConfigTimeout:       12000ms
  RedisRemoveNodeCheckInterval:                 2000ms
  RedisRemoveNodeTimeout:                       12000ms
  WaitForRedisLoadDataSetInMemoryCheckInterval: 2000ms
  WaitForRedisLoadDataSetInMemoryTimeout: 10000ms